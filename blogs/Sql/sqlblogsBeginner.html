<!DOCTYPE html>
<html>
    <head>
        <!-- Bootstrap and Font Awesome css -->
        <link rel="stylesheet" href="../../vendor/bootstrap/css/bootstrap.min.css">
        <!-- Bootstrap and Font Awesome css -->
        <link rel="stylesheet" href="../../css/style.default.css">
        <link rel="stylesheet" href="../../css/custom.css">   
        <link rel="stylesheet" href="../../css/custom.css">
        <!-- JavaScript files-->
        <script src="../../vendor/jquery/jquery.min.js"></script>
        <script src="../../vendor/bootstrap/js/bootstrap.min.js"></script>
        <script>
            $(document).ready(function() {
                $('#ssmscontent').show();
            });
            var html='';
            function showDiv(a){
                var id=$(a).attr("id");
                $("[id$='content']").hide();              
                $('#'+id+"content").show();
                var fileName=id+"content.txt";
                $.get( "../sqltxt/"+fileName,function( data ) {
                    html=$.parseHTML(data )
                    $('#'+id+"content").html(html);
                });
            }
        </script>
        <style>
            .h1-tutorial{
                font-size:2.6rem;

            }
        </style>
    </head>
    <body>
        <header class="header">
            <nav class="navbar navbar-expand-lg fixed-top">
                <div class="container"><a href="../../index.html" class="navbar-brand scrollTo">Manjunath Shenoy</a>
                    <button type="button" data-toggle="collapse" data-target="#navbarcollapse" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right"><span class="fa fa-bars"></span></button>
                    <div id="navbarcollapse" class="collapse navbar-collapse">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Blogs</a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="/blogs/blogs.html">C# blogs</a>
                                    <a class="dropdown-item" href="/blogs/sqlblogs.html">Sql Blogs</a>
                                    <a class="dropdown-item" href="#">Travel Blogs</a>
                                </div>
                            </li>             
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <div class="d-flex" style="position:relative;padding-top:6em" id="wrapper">

            <!-- Sidebar -->
            <div class="bg-light border-right" id="sidebar-wrapper" style="width:16% !important">
                <div class="list-group list-group-flush">
                    <a id="ssms" onclick="showDiv(this)" href="#" class="list-group-item list-group-item-action bg-light">Sql Server Mgmt Studio</a>
                    <a id="databasesetup" onclick="showDiv(this)" href="#" class="list-group-item list-group-item-action bg-light">Database (DB) Setup</a>
                    <a id="createbackup"  onclick="showDiv(this)" href="#" class="list-group-item list-group-item-action bg-light">Back up DB</a>
                    <a id="restoredatabase"  onclick="showDiv(this)" href="#" class="list-group-item list-group-item-action bg-light">Restore DB</a>
                    <a id="nice"  onclick="showDiv(this)" href="#" class="list-group-item list-group-item-action bg-light">Events</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light">Profile</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light">Status</a>
                </div>
            </div>
            <!-- /#sidebar-wrapper -->

            <!-- Page Content -->
            <div id="page-content-wrapper" style="width:84% !important">
                <div class="container-fluid">
                    <div id="ssmscontent" style="display:none;">    
                        <h1 class="mt-4 h1-tutorial" >Database Diagrams</h1>
                        <p>Database Diagrams are a way to visualise a database model .When the model is small its quite easy to understand the relationship between the tables, however as the complexity grows and in the real world applications it becomes tough to see the relationship between the tables. Therefore, it is imperative to generate database diagrams as it can graphically show the structure of the database.</p>
                        <p>With SSMS you can easily create database diagrams.Below are the steps you should follow to create database diagrams</p>
                        <ul>
                            <li>Login to the Server using steps we saw earlier(Use Windows authentication)</li>
                            <li>Expand the server and click on the database you want to generate diagrams for.
                            </li>
                            <li>Expand the selected database and click on Database Diagrams
                            </li>
                            <li>Rt click on the Database Diagrams and click on “New Diagram” as shown in image
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/9databaseDiag.PNG" alt="new db diagram" /> 
                            </li>
                            <li>When you create the diagram for the first time, you may get popup screen asking to create support object required to create db diagrams as shown in the image
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/10FirstTime.PNG" alt="first time db diagram error" /> 
                            </li>
                            <li>SSMS needs few system procedures and a table that are not created with the database. So just click on OK on the above popup and doing so will create following system procedures in your database.
                                This happens because,initially if you look into the database system stored procedure (SP), you will only see SP with “sys” and no system tables.Below is the image how it looks before clickin on OK                                  
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/11anodboSPs.PNG" alt="sys schema only" />
                                After you click OK on the error popup shown above(asking to create support objects), you will see one table is created in systables and few sps with <b>dbo</b> schema created as shown in image
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/11bafterok.PNG" alt="dbo schema only" />
                            </li>
                            <li>Again click on new database diagram. A new window will open and select all the tables (click “Add” button) you want to generate diagram for as shown in image
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/12AddTable.PNG" alt="add tables" />
                            </li>
                            <li>This will create a diagram with the tables columns, primary keys, and relationships that were read from the schema.Assume you selected only 2 tables then it will look like in the image                             
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/14DBTableDiagram.PNG" alt="add tables" />
                            </li>
                            <li>You can make it look smaller by selecting all tables using control A and right click and then doing “Autosize selected tables” as shown in below image
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/15AutoSize.PNG" alt="before auto size tables" />
                                <br>
                                After autosizing, tables will look like below
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/16MoreCompact.PNG" alt="after auto size tables" />
                            </li>

                            <li>Now we know that "Order" table is related to "OrderDetails" table. However,like we saw above, we had not included OrderDetails in the initial draft of our diagram.We can include it now by right clicking on the "order" table, and select add related table as shown in image
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/17AddRelatedTable.PNG" alt="add related table" />
                            </li>
                            <li>We can also create a new table all together through the diagram sections itself. Just follow below steps
                                <ul>
                                    <li>Rt click anywhere on the diagram editor</li>
                                    <li>Click on “New Table” as shown in image
                                        <img style="width:60%;height:40%" src="../../img/sqlforBeginners/17NewTableThru.PNG" alt="new table" />
                                    </li>
                                    <li>You will get a popup window where in you can enter the table name. I will call this “test” table and click OK</li>
                                    <li>Doing so will allow you to enter column names etc and then click on save which will prompt you a confirmation as shown in image below
                                        <img style="width:60%;height:40%" src="../../img/sqlforBeginners/19PromptSave.PNG" alt="save" />     
                                        Click on yes and refresh the database and you will see the new table generated</ul>                         
                            </li>
                            <li>You can also create primary keys through the tools itself. Right click on column which needs to be made primary key. Choose option "Set Primary Key" as shown in the diagram. 
                                <img style="width:60%;height:40%" src="../../img/sqlforBeginners/20SetPrimaryKey.PNG" alt="set primary key" /> 
                            </li>
                            <li>You can also click on individual tables and decide how to display them.Follow below steps
                                <ul>
                                    <li>Right click on the table and select “Table View” and click on Standard which will display coulumns withn DataType and Attr</li>
•	22TableViewImg
	Column Names will only show column names
	Keys will only show the keys like PK, FK etc
	Name will only have tabe name etc
</ul>
                            </li>

                        </ul>

                        <p>Congratulations... :-) you have restored the database using a backup file </p>
                        <br>
                    </div>                            
                    <div id="databasesetupcontent" style="display:none;">                       
                    </div>
                    <div id="createbackupcontent" style="display:none;">                       
                    </div>
                    <div id="restoredatabasecontent" style="display:none;">                       
                    </div>
                </div>
            </div>
            <!-- /#page-content-wrapper -->

        </div>
        <footer class="main-footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 text-center text-lg-left">
                        <p class="social"><a href="facebook.com/shenoyvnm
                            " class="external facebook wow fadeInUp"><i class="fa fa-facebook"></i></a>
                            <a style="background-color:grey;" href="www.linkedin.com/in/manjunathshenoywebdev" class="external facebook wow fadeInUp"><i class="fa fa-linkedin"></i></a>
                    </div>
                    <!-- /.6-->
                    <div class="col-md-6 text-center text-lg-right mt-4 mt-lg-0">
                        <p>© 2018 Manjunath Shenoy. All rights reserved.</p>
                    </div>
                    <div class="col-12 mt-4">
                        <p class="template-bootstrapious">Designed by <a href="https://www.bootstrapious.com">Bootstrapious</a>
                            <!-- Please do not remove the backlink to us unless you support further theme's development at https://bootstrapious.com/donate. It is part of the license conditions. Thank you for understanding :)-->
                        </p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>